<!DOCTYPE html>
<html lang="ZH-TW">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" href="style.css" />
  <title>Pokemon Magazine</title>
</head>

<body>
  <div class="flipbook">
    <div class="hard">My Pokemon Gallery <small>~ HankTheTank</small></div>
    <div class="hard"></div>
    <div class="page">
      <small>Lets Look At Some Amazing Pokemon ❤️</small>
      <small>Gotta Catch 'Em All</small>
    </div>
    <div class="page">
      <img src="images/img-1.png" alt="Charmandar" />
      <small> Charmandar </small>
    </div>
    <div class="page">
      <img src="images/img-2.png" alt="Arbok" />
      <small> Arbok </small>
    </div>
    <div class="page">
      <img src="images/img-3.png" alt="Pikachu" />
      <small> Pikachu </small>
    </div>
    <div class="page">
      <img src="images/img-4.png" alt="Mew" />
      <small> Mew </small>
    </div>
    <div class="page">
      <img src="images/img-5.png" alt="Darkrai" />
      <small> Darkrai </small>
    </div>
    <div class="hard"></div>
    <div class="hard">Thank You <small>~ HankTheTank</small></div>
  </div>
  <div class="landscape-notice">請將裝置旋轉到橫向以獲得最佳體驗.</div>

  

  <script src="jquery.js"></script>
  <script src="turn.js"></script>
  <script>
    function adjustImageSize() {
      const images = document.querySelectorAll(".page img");
      const flipbook = document.querySelector(".flipbook");
      const maxImageWidth = flipbook.offsetWidth * 0.7; // 設定最大寬度為 flipbook 的 70%

      images.forEach((img) => {
        img.style.maxWidth = `${maxImageWidth}px`;
        img.style.height = "auto"; // 確保比例正確
      });
    }

    function adjustFlipbookSize() {
      const flipbook = document.querySelector(".flipbook");
      const notice = document.querySelector(".landscape-notice"); // 遮罩元素
      const screenWidth = window.innerWidth;
      const screenHeight = window.innerHeight;
      const aspectRatio = 1000 / 600; // 原始比例寬高

      if (screenWidth > screenHeight) {
        // 橫屏模式
        notice.style.display = "none"; // 隱藏提示
        flipbook.style.width = `${screenHeight * 0.9 * aspectRatio}px`;
        flipbook.style.height = `${screenHeight * 0.9}px`;
      } else {
        // 直屏模式
        notice.style.display = "flex"; // 顯示提示
        flipbook.style.width = `${screenWidth * 0.9}px`;
        flipbook.style.height = `${screenWidth * 0.9 / aspectRatio}px`;
      }

      // 重新初始化翻頁功能
      if ($(".flipbook").data("initialized")) {
        $(".flipbook").turn("size", flipbook.offsetWidth, flipbook.offsetHeight);
      } else {
        $(".flipbook").turn({
          width: flipbook.offsetWidth,
          height: flipbook.offsetHeight,
        });
        $(".flipbook").data("initialized", true);
      }

      // 調整圖片大小
      adjustImageSize();
    }

    // 初始化遮罩和翻頁功能
    window.addEventListener("resize", adjustFlipbookSize);
    window.addEventListener("orientationchange", adjustFlipbookSize);
    adjustFlipbookSize();
  </script>
  
</body>

</html>